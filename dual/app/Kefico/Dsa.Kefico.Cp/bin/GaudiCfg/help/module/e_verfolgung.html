<HTML>
<HEAD>
<TITLE>E_VERFOLGUNG</TITLE>
<META NAME="Generator" CONTENT="KDOC ">
</HEAD>
<BODY bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#000099" alink= "#ffffff">

<table BORDER=0 COLS=1 WIDTH="100%" BGCOLOR="#FFFFCC" NOSAVE >
<tr ALIGN=CENTER VALIGN=CENTER NOSAVE>
<td NOSAVE><font face="Arial,Helvetica"><font size=+2></font></font>
<br><font face="Arial,Helvetica"><font size=+2>CCS Modul &nbsp;&nbsp;<b>E_VERFOLGUNG</b></font></font>
<br>&nbsp;</td>
</tr>
</table>
<PRE>
   $Id: e_verfolgung.C,v 1.4 2005/09/01 07:11:40 sniff Exp $
   ---------------------------------------------------------------------
   Kurzbeschreibung: 	Prœfvortschrittskontrolle durch Fertigung
   ---------------------------------------------------------------------
   Projekt:		CCS
   Sourcefile:		e_verfolgung.C
   Autor:		RtW/TEF72-Keppler (10.12.97)
   Zielsystem:		HP9000/V743 (HP-RT 2.0x), /Sxxx (HP-UX 9.0x)
   Sprache:		C++
   ---------------------------------------------------------------------
   Prototyp:
   MPI Schnittstelle
   void e_verfolgung(shm_stringpointer *zeilen_info
   ,shm_stringpointer   *zeilen_wert
   ,long index1
   ,long anzahl)
   
   ---------------------------------------------------------------------
   Aufruf: im Vectorinterpreter
   
   (*funktionen[modulnummer])
   (Ssp_expand_zeile
   ,Ssp_expand_wert
   ,p_verwaltung-&gt;begin_modulblock
   ,p_verwaltung-&gt;anzahl_modulparameter);
   
   
   ---------------------------------------------------------------------
   Funktionsbeschreibung:
   
   Aufgabe des Moduls ist, die Relais auf der prœflingsspezifischen Platine
   zu setzen. 
   
   €bergabeparameter    
   
   
   MD,E_VERFOLGUNG
   ,PRUEFSCHRITT	1
   ,POSITION		2
   ,MODUS		3
   ,DATUM0		4
   ,STANDTYP_1_8	5
   ,OFFSET_1_8		6
   ,DATUM1		7
   ,DATUM2		8
   ,DATUM3		9
   ,DATUM4		10
   ,DATUM5		11
   ,DATUM6		12
   ,DATUM7		13
   ,DATUM8		14
   ,TUG_S1		15
   ,TOG_S1		16
   ,TUG_S2		17
   ,TOG_S2		18
   ,TUG_S3		19
   ,TOG_S3		20
   ,TUG_S4		21
   ,TOG_S4		22
   ,TUG_S5		23
   ,TOG_S5		24
   ,TUG_S6		25
   ,TOG_S6		26
   ,TUG_S7		27
   ,TOG_S7		28
   ,TUG_S8		29
   ,TOG_S8		30
   ,CODE_WAHL		31
   ,ZEIGER_ANF		32
   ,ZEIGER_END		33
   ,ERGEBNIS		34
   ,FEHLERFLAG		35</pre><b><a name="param3">3</a> MODUS:</b><pre>                                      
   	'MESS': Hiermit kann Komunikation mit dem SG auf-
   		genommen werden. Der Sendestring zum SG, setzt
   		sich aus DATUM0 und DATUMx wie unter DATUM0
   		beschrieben, zusammen.
   		Die vom SG als Antwort kommenden Daten kŒnnen
   		auf ihre Richtigkeit œberprœft werden.
   		Um den zurœckgekommenen String auswerten zu 
   		kŒnnen, muﬁ der ZEIGER_ANF auf den Anfang der
   		auszuwertenden Daten zeigen.
   		Der ZEIGER_END zeigt bis an welche Stelle der 
   		String ausgewertet werden soll.
   		Die Differenz von ZEIGER_ANF und ZEIGER_END
   		darf maximal 3 betragen.
   		Die Art der Auswertung wird unter CODE_WAHL
   		eingetragen.
   	'ERR ': Mit diesem Modus kann ein Fehlerflag im SG 
   		inkrementiert werden. Der im Vorschritt mit 
  		MESS ausgelesen String muﬁ dieses Fehlerflag
   		enthalten. Die Stelle an welcher das Fehlerflag 
   		im geholten String steht, wird mit ZEIGER_ANF
   		gekennzeichnet.
   		Die Stelle, an welcher das Fehlerflag am String
   		zum SG stehen soll wird in DATUM1 oder .. DATUM8
  		mit YY gekennzeichnet.
  		Die Auswertung wird an der Stelle ZEIGER_END 
 		vorgenommen.
 		Es ist nur ein Byte auswertbar in diesem Modus.
 		Der Parameter CODE_WAHL muﬁ auf HEX stehen.
	BESONDERHEIT:
   		Ist das letzte Zeichen von MODUS ein O, so wird
  		bei fehlerfreiem Durchlauf der Aktion eine
   		OK - Meldung ausgegeben.</pre><b><a name="param5">5</a> STANDTYP_1_8:</b><pre>Hier wird die Standtypen eingetragen, bei denen das 
   		entsprechende Datum eingetragen wird.
   		Z.B. (HT||EP||TT||AB||TT||TT||TT||TT)
   		Taucht ein Standtyp mehr als 1 mal auf, so wird bei 
   		jeder zugehŒrigen Toleranz geprœft ob der Messwert
   		innerhalb dieser Toleranz ist.</pre><b><a name="param6">6</a> OFFSET_1_8:</b><pre>  Offset zum ZEIGER_ANF und ZEIGER_END abhÃngig vom 
   		Standtyp. Z.B. (00||04||00||00||00||00||00||00)</pre><b><a name="param4">4</a> DATUM0:</b><pre> 	    Die hier eingetragenen Daten wie Befehlsbyte
   		(Blocktitel) oder Adressen werden StandtypunabhÃngig  
   		zum SG gesendet. Der Datenstring zum SG
   		wird wie folgt zusammengesetzt.       
   		Zuerst alle DATUM0 bis XX
   		Dann der StandtpabhÃngige String (z.b. DATUM1)</pre><b><a name="param7">7</a> DATUM1</b><pre>  :  Daten an das SteuergerÃt               
 	DATUM1 - DATUM4 werden abhÃngig vom Standtyp
   		an das SG gesendet. NÃmlich DATUM1 bei STANDTYP1
   		usw.
   
   	:</pre><b><a name="param14">14</a> DATUM8:</b><pre></pre><b><a name="param15">15</a> TUG_S1:</b><pre>Toleranz fœr Standtyp 1                  
   	:</pre><b><a name="param30">30</a> TOG_S8:</b><pre>Toleranz fœr Standtyp 8</pre><b><a name="param32">32</a> ZEIGER_ANF:</b><pre> Zeigt auf den Anfang des Rœckgabestrings nach
   		dem Antwortblocktitel (sofern forhanden) wenn
   		er auf 1 gesetzt ist.</pre><b><a name="param33">33</a> ZEIGER_END:</b><pre>    Die Auswertung ergfolgt bis zu diesem Zeiger-
   		stand. Er darf maximal 3 grŒﬁer sein als
   	ZEIGER_ANF wenn in CODE_WAHL nichts eingetragen
   		ist.

   Revision 1.1  2001/12/18 10:51:22  sgc3sa
   Anpassungen fuer Linux und QT

   Revision 1.4  2001/02/22 14:45:26  juilfs
   *** empty log message ***

   Revision 1.3  1999/12/22 10:06:44  keppler
   $ID -&gt; $Id

   Revision 1.2  1999/12/22 09:17:28  keppler
   $Header -&gt; $Id

   Revision 1.1  1999/11/23 14:20:41  katzenma
   Initial Version by Sniff

   
   ---------------------------------------------------------------------


</PRE>
</BODY>
</HTML>
